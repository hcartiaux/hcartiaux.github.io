<!DOCTYPE html>
<html><head lang="en">
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Turing complete - self documentation - My sysadmin notes</title><meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="This is my documentation for my own game of Turing Complete.
Turing Complete purpose is to guide you through the implementation of a simple CPU, from the first logical gate to your assembly language definition.
This page is mostly intended to myself as a reminder.
This is very far from the best design and solutions, but it&rsquo;s the best I could do in a reasonable time :)" />
	<meta property="og:image" content=""/>
	<meta property="og:url" content="https://hcartiaux.github.io/posts/2024-04-17-turing-complete-documentation/">
  <meta property="og:site_name" content="My sysadmin notes">
  <meta property="og:title" content="Turing complete - self documentation">
  <meta property="og:description" content="This is my documentation for my own game of Turing Complete. Turing Complete purpose is to guide you through the implementation of a simple CPU, from the first logical gate to your assembly language definition.
This page is mostly intended to myself as a reminder. This is very far from the best design and solutions, but it’s the best I could do in a reasonable time :)">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-04-17T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-04-17T00:00:00+00:00">
    <meta property="article:tag" content="Gaming">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Turing complete - self documentation">
  <meta name="twitter:description" content="This is my documentation for my own game of Turing Complete. Turing Complete purpose is to guide you through the implementation of a simple CPU, from the first logical gate to your assembly language definition.
This page is mostly intended to myself as a reminder. This is very far from the best design and solutions, but it’s the best I could do in a reasonable time :)">
<script src="https://hcartiaux.github.io/js/feather.min.js"></script>
	
	
        <link href="https://hcartiaux.github.io/css/fonts.2c2227b81b1970a03e760aa2e6121cd01f87c88586803cbb282aa224720a765f.css" rel="stylesheet">
	

	
	<link rel="stylesheet" type="text/css" media="screen" href="https://hcartiaux.github.io/css/main.6088c83166692b4a79abc75becec2939f1634cca87b98ebc21911ad3e6892fb3.css" />
		<link id="darkModeStyle" rel="stylesheet" type="text/css" href="https://hcartiaux.github.io/css/dark.79f0c18dec9d57aff71529bed6b0a1f8289b4d7ab5f4977b7812cb344d58528d.css"  />
	

	
	

	
	
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css">
		<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.js"></script>
		<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/contrib/auto-render.min.js" onload="renderMathInElement(document.body);"></script>
		
		
		<script>
			document.addEventListener("DOMContentLoaded", function() {
					renderMathInElement(document.body, {
							delimiters: [
									{left: "$$", right: "$$", display: true},
									{left: "$", right: "$", display: false}
							]
					});
			});
			</script>
	
	
	
</head>
<body>
        <div class="content"><header>
	<div class="main">
		<a href="https://hcartiaux.github.io/">My sysadmin notes</a>
	</div>
	<nav>
		
		<a href="/">Home</a>
		
		<a href="/posts">All posts</a>
		
		<a href="/tags">Tags</a>
		
		| <span id="dark-mode-toggle" onclick="toggleTheme()"></span>
		<script src="https://hcartiaux.github.io/js/themetoggle.js"></script>
		
	</nav>
</header>

<main>
	<article>
		<div class="title">
			<h1 class="title">Turing complete - self documentation</h1>
			<div class="meta">Posted on Apr 17, 2024</div>
		</div>
		

		

		<section class="body">
			<p>This is my documentation for <a href="https://turingcomplete.game/profile/38047">my own game</a> of <a href="https://turingcomplete.game/">Turing Complete</a>.
Turing Complete purpose is to guide you through the implementation of a simple CPU, from the first logical gate to your assembly language definition.</p>
<p>This page is mostly intended to myself as a reminder.
This is very far from the best design and solutions, but it&rsquo;s the best I could do in a reasonable time :)</p>
<h2 id="schematic">Schematic</h2>
<p><a href="turing_complete_annotated.png"><img src="turing_complete_annotated.png" alt="My own computer in Turing Complete"></a></p>
<p><a href="turing_complete.png">Raw version, non annnotated</a></p>
<h2 id="instructions-set">Instructions set</h2>
<h3 id="syntax">Syntax</h3>
<p>Instruction <code>&lt;op code&gt; &lt;arg1&gt; &lt;arg2&gt; &lt;dest&gt;</code></p>
<p><code>&lt;arg1&gt;</code> and <code>&lt;arg2&gt;</code> can be set to an immediate value with bitwise OR on the opcode:</p>
<ul>
<li>for <code>arg1</code>, <code>&lt;op code&gt;|128</code></li>
<li>for <code>arg2</code>, <code>&lt;op code&gt;|64</code></li>
</ul>
<h3 id="table">Table</h3>
<table>
<thead>
<tr>
<th>OP Code</th>
<th>Assembly instruction</th>
<th>Parameters</th>
<th>Comment</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>add</td>
<td></td>
<td><code>&lt;arg1&gt;</code> + <code>&lt;arg2&gt;</code> in register <code>&lt;dest&gt;</code></td>
</tr>
<tr>
<td>1</td>
<td>sub</td>
<td></td>
<td><code>&lt;arg1&gt;</code> - <code>&lt;arg2&gt;</code> in register <code>&lt;dest&gt;</code></td>
</tr>
<tr>
<td>2</td>
<td>and</td>
<td></td>
<td><code>&lt;arg1&gt;</code> AND <code>&lt;arg2&gt;</code> in register <code>&lt;dest&gt;</code></td>
</tr>
<tr>
<td>3</td>
<td>or</td>
<td></td>
<td><code>&lt;arg1&gt;</code> OR <code>&lt;arg2&gt;</code> in register <code>&lt;dest&gt;</code></td>
</tr>
<tr>
<td>4</td>
<td>not</td>
<td></td>
<td><code>&lt;arg1&gt;</code> NOT <code>&lt;arg2&gt;</code> in register <code>&lt;dest&gt;</code></td>
</tr>
<tr>
<td>5</td>
<td>xor</td>
<td></td>
<td><code>&lt;arg1&gt;</code> XOR <code>&lt;arg2&gt;</code> in register <code>&lt;dest&gt;</code></td>
</tr>
<tr>
<td>6</td>
<td>shift_right</td>
<td></td>
<td>shift right <code>&lt;arg1&gt;</code> by <code>&lt;arg2&gt;</code> in register <code>&lt;dest&gt;</code></td>
</tr>
<tr>
<td>7</td>
<td>shift_left</td>
<td></td>
<td>shift left <code>&lt;arg1&gt;</code> by <code>&lt;arg2&gt;</code> in register <code>&lt;dest&gt;</code></td>
</tr>
<tr>
<td>8</td>
<td>ram_input</td>
<td><code>&lt;src&gt; &lt;unused&gt; &lt;unused&gt;</code></td>
<td>Store <code>&lt;arg1&gt;</code> in RAM at the address stored in R5</td>
</tr>
<tr>
<td>9</td>
<td>ram_output</td>
<td><code>&lt;unused&gt; &lt;unused&gt; &lt;dest&gt;</code></td>
<td>Copy to <code>&lt;dest&gt;</code> the value stored at the RAM address stored in R5</td>
</tr>
<tr>
<td>10</td>
<td>mul</td>
<td></td>
<td><code>&lt;arg1&gt;</code> * <code>&lt;arg2&gt;</code> in register <code>&lt;dest&gt;</code></td>
</tr>
<tr>
<td>11</td>
<td>push</td>
<td><code>&lt;src&gt; &lt;unused&gt; &lt;unused&gt;</code></td>
<td>Push <code>&lt;arg1&gt;</code> to the stack</td>
</tr>
<tr>
<td>12</td>
<td>pop</td>
<td><code>&lt;unused&gt; &lt;unused&gt; &lt;dest&gt;</code></td>
<td>Pop the stack into <code>&lt;dest&gt;</code></td>
</tr>
<tr>
<td>13</td>
<td>call</td>
<td><code>&lt;unused&gt; &lt;unused&gt; &lt;dest&gt;</code></td>
<td>push PC+4 to the stack and set the PC to <code>dest</code></td>
</tr>
<tr>
<td>14</td>
<td>ret</td>
<td><code>&lt;unused&gt; &lt;unused&gt; &lt;unused&gt;</code></td>
<td>pop the stack to the PC</td>
</tr>
<tr>
<td>32</td>
<td>eq</td>
<td></td>
<td>set PC to <code>&lt;dest&gt;</code> if <code>&lt;arg1&gt;</code> = <code>&lt;arg2&gt;</code></td>
</tr>
<tr>
<td>33</td>
<td>neq</td>
<td></td>
<td>set PC to <code>&lt;dest&gt;</code> if <code>&lt;arg1&gt;</code> != <code>&lt;arg2&gt;</code></td>
</tr>
<tr>
<td>34</td>
<td>lt</td>
<td></td>
<td>set PC to <code>&lt;dest&gt;</code> if <code>&lt;arg1&gt;</code> &lt; <code>&lt;arg2&gt;</code></td>
</tr>
<tr>
<td>35</td>
<td>le</td>
<td></td>
<td>set PC to <code>&lt;dest&gt;</code> if <code>&lt;arg1&gt;</code> &lt;= <code>&lt;arg2&gt;</code></td>
</tr>
<tr>
<td>36</td>
<td>gt</td>
<td></td>
<td>set PC to <code>&lt;dest&gt;</code> if <code>&lt;arg1&gt;</code> &gt; <code>&lt;arg2&gt;</code></td>
</tr>
<tr>
<td>37</td>
<td>ge</td>
<td></td>
<td>set PC to <code>&lt;dest&gt;</code> if <code>&lt;arg1&gt;</code> &gt;= <code>&lt;arg2&gt;</code></td>
</tr>
</tbody>
</table>
<h2 id="addresses">Addresses</h2>
<table>
<thead>
<tr>
<th>Register address</th>
<th>Register name</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>Register 0</td>
</tr>
<tr>
<td>1</td>
<td>Register 1</td>
</tr>
<tr>
<td>2</td>
<td>Register 2</td>
</tr>
<tr>
<td>3</td>
<td>Register 3</td>
</tr>
<tr>
<td>4</td>
<td>Register 4</td>
</tr>
<tr>
<td>5</td>
<td>Register 5 - ram pointer</td>
</tr>
<tr>
<td>6</td>
<td>Program Counter (PC)</td>
</tr>
<tr>
<td>7</td>
<td>Input/Output</td>
</tr>
</tbody>
</table>
<h2 id="solution-of-the-level-unseen-fruit">Solution of the level <code>unseen fruit</code></h2>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-gdscript3" data-lang="gdscript3"><span style="display:flex;"><span><span style="color:#586e75"># Constants definitions for readability</span>
</span></span><span style="display:flex;"><span><span style="color:#719e07">const</span> R0 <span style="color:#2aa198">0</span>
</span></span><span style="display:flex;"><span><span style="color:#719e07">const</span> R1 <span style="color:#2aa198">1</span>
</span></span><span style="display:flex;"><span><span style="color:#719e07">const</span> R2 <span style="color:#2aa198">2</span>
</span></span><span style="display:flex;"><span><span style="color:#719e07">const</span> R3 <span style="color:#2aa198">3</span>
</span></span><span style="display:flex;"><span><span style="color:#719e07">const</span> R4 <span style="color:#2aa198">4</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#719e07">const</span> RAM_PNTR <span style="color:#2aa198">5</span>
</span></span><span style="display:flex;"><span><span style="color:#719e07">const</span> PROGRAM_CNTR <span style="color:#2aa198">6</span>
</span></span><span style="display:flex;"><span><span style="color:#719e07">const</span> I_O <span style="color:#2aa198">7</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#719e07">const</span> _ <span style="color:#2aa198">0</span> <span style="color:#586e75">#UNUSED PARAM</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#719e07">const</span> COUNTER <span style="color:#2aa198">1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#586e75"># Go to conveyor belt</span>
</span></span><span style="display:flex;"><span>add<span style="color:#719e07">|</span><span style="color:#2aa198">64</span><span style="color:#719e07">|</span><span style="color:#2aa198">128</span> <span style="color:#2aa198">2</span> <span style="color:#2aa198">0</span> I_O
</span></span><span style="display:flex;"><span>add<span style="color:#719e07">|</span><span style="color:#2aa198">64</span><span style="color:#719e07">|</span><span style="color:#2aa198">128</span> <span style="color:#2aa198">1</span> <span style="color:#2aa198">0</span> I_O
</span></span><span style="display:flex;"><span>add<span style="color:#719e07">|</span><span style="color:#2aa198">64</span><span style="color:#719e07">|</span><span style="color:#2aa198">128</span> <span style="color:#2aa198">2</span> <span style="color:#2aa198">0</span> I_O
</span></span><span style="display:flex;"><span>add<span style="color:#719e07">|</span><span style="color:#2aa198">64</span><span style="color:#719e07">|</span><span style="color:#2aa198">128</span> <span style="color:#2aa198">1</span> <span style="color:#2aa198">0</span> I_O
</span></span><span style="display:flex;"><span>add<span style="color:#719e07">|</span><span style="color:#2aa198">64</span><span style="color:#719e07">|</span><span style="color:#2aa198">128</span> <span style="color:#2aa198">1</span> <span style="color:#2aa198">0</span> I_O
</span></span><span style="display:flex;"><span>add<span style="color:#719e07">|</span><span style="color:#2aa198">64</span><span style="color:#719e07">|</span><span style="color:#2aa198">128</span> <span style="color:#2aa198">1</span> <span style="color:#2aa198">0</span> I_O
</span></span><span style="display:flex;"><span>add<span style="color:#719e07">|</span><span style="color:#2aa198">64</span><span style="color:#719e07">|</span><span style="color:#2aa198">128</span> <span style="color:#2aa198">1</span> <span style="color:#2aa198">0</span> I_O
</span></span><span style="display:flex;"><span>add<span style="color:#719e07">|</span><span style="color:#2aa198">64</span><span style="color:#719e07">|</span><span style="color:#2aa198">128</span> <span style="color:#2aa198">2</span> <span style="color:#2aa198">0</span> I_O
</span></span><span style="display:flex;"><span>add<span style="color:#719e07">|</span><span style="color:#2aa198">64</span><span style="color:#719e07">|</span><span style="color:#2aa198">128</span> <span style="color:#2aa198">1</span> <span style="color:#2aa198">0</span> I_O
</span></span><span style="display:flex;"><span>add<span style="color:#719e07">|</span><span style="color:#2aa198">64</span><span style="color:#719e07">|</span><span style="color:#2aa198">128</span> <span style="color:#2aa198">0</span> <span style="color:#2aa198">0</span> I_O
</span></span><span style="display:flex;"><span>add<span style="color:#719e07">|</span><span style="color:#2aa198">64</span><span style="color:#719e07">|</span><span style="color:#2aa198">128</span> <span style="color:#2aa198">1</span> <span style="color:#2aa198">0</span> I_O
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>label main_loop_begin
</span></span><span style="display:flex;"><span><span style="color:#586e75"># copy input in R0</span>
</span></span><span style="display:flex;"><span>add<span style="color:#719e07">|</span><span style="color:#2aa198">64</span><span style="color:#719e07">|</span><span style="color:#2aa198">128</span> <span style="color:#2aa198">3</span> <span style="color:#2aa198">0</span> I_O
</span></span><span style="display:flex;"><span>add<span style="color:#719e07">|</span><span style="color:#2aa198">64</span> I_O <span style="color:#2aa198">0</span> R0
</span></span><span style="display:flex;"><span><span style="color:#586e75"># if input = 92, wait for a fruit</span>
</span></span><span style="display:flex;"><span>cond_eq<span style="color:#719e07">|</span><span style="color:#2aa198">64</span> R0 <span style="color:#2aa198">92</span> main_loop_begin
</span></span><span style="display:flex;"><span><span style="color:#586e75"># if input != 92, call function check</span>
</span></span><span style="display:flex;"><span>call _ _ check
</span></span><span style="display:flex;"><span>jump _ _ main_loop_begin
</span></span><span style="display:flex;"><span>label main_loop_end
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>jump _ _ end
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#586e75"># function check - # check if fruit has already been seen</span>
</span></span><span style="display:flex;"><span>label check
</span></span><span style="display:flex;"><span>add<span style="color:#719e07">|</span><span style="color:#2aa198">64</span><span style="color:#719e07">|</span><span style="color:#2aa198">128</span> <span style="color:#2aa198">0</span> <span style="color:#2aa198">0</span> RAM_PNTR
</span></span><span style="display:flex;"><span>label check_loop_begin
</span></span><span style="display:flex;"><span><span style="color:#586e75"># load ram</span>
</span></span><span style="display:flex;"><span>ram_output _ _ R2
</span></span><span style="display:flex;"><span>add<span style="color:#719e07">|</span><span style="color:#2aa198">128</span> <span style="color:#2aa198">1</span> RAM_PNTR RAM_PNTR
</span></span><span style="display:flex;"><span>cond_eq R0 R2 check_push
</span></span><span style="display:flex;"><span>cond_gt RAM_PNTR COUNTER check_store
</span></span><span style="display:flex;"><span>jump _ _ check_loop_begin
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#586e75"># function check_store</span>
</span></span><span style="display:flex;"><span><span style="color:#586e75"># if input number is not in memory, store the number</span>
</span></span><span style="display:flex;"><span>label check_store
</span></span><span style="display:flex;"><span>call _ _ store
</span></span><span style="display:flex;"><span>jump _ _ check_loop_end
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#586e75"># function check_push</span>
</span></span><span style="display:flex;"><span><span style="color:#586e75"># else, push the button</span>
</span></span><span style="display:flex;"><span>label check_push
</span></span><span style="display:flex;"><span>call _ _ push
</span></span><span style="display:flex;"><span>jump _ _ check_loop_end
</span></span><span style="display:flex;"><span>label check_loop_end
</span></span><span style="display:flex;"><span>cond_le R2 COUNTER check_loop_begin
</span></span><span style="display:flex;"><span>label check_end
</span></span><span style="display:flex;"><span>ret
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#586e75"># function store</span>
</span></span><span style="display:flex;"><span><span style="color:#586e75"># Append a new value in RAM</span>
</span></span><span style="display:flex;"><span>label store
</span></span><span style="display:flex;"><span>add<span style="color:#719e07">|</span><span style="color:#2aa198">128</span> <span style="color:#2aa198">1</span> COUNTER COUNTER
</span></span><span style="display:flex;"><span>add<span style="color:#719e07">|</span><span style="color:#2aa198">128</span> <span style="color:#2aa198">0</span> COUNTER RAM_PNTR
</span></span><span style="display:flex;"><span>ram_input R0 _ _
</span></span><span style="display:flex;"><span>ret
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#586e75"># Push the button</span>
</span></span><span style="display:flex;"><span>label push
</span></span><span style="display:flex;"><span>add<span style="color:#719e07">|</span><span style="color:#2aa198">64</span><span style="color:#719e07">|</span><span style="color:#2aa198">128</span> <span style="color:#2aa198">2</span> <span style="color:#2aa198">0</span> I_O
</span></span><span style="display:flex;"><span>add<span style="color:#719e07">|</span><span style="color:#2aa198">64</span><span style="color:#719e07">|</span><span style="color:#2aa198">128</span> <span style="color:#2aa198">4</span> <span style="color:#2aa198">0</span> I_O
</span></span><span style="display:flex;"><span>add<span style="color:#719e07">|</span><span style="color:#2aa198">64</span><span style="color:#719e07">|</span><span style="color:#2aa198">128</span> <span style="color:#2aa198">0</span> <span style="color:#2aa198">0</span> I_O
</span></span><span style="display:flex;"><span>ret
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>label end
</span></span></code></pre></div><h2 id="solution-of-the-level-delicious-order">Solution of the level <code>delicious order</code></h2>
<p>The program works in 3 steps:</p>
<ol>
<li>loads all the values from I_O and store them in memory</li>
<li>performs a bubble sort, suboptimal - O(n²) - but easy and readable</li>
<li>Output the sorted data</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-gdscript3" data-lang="gdscript3"><span style="display:flex;"><span><span style="color:#719e07">const</span> R0 <span style="color:#2aa198">0</span>
</span></span><span style="display:flex;"><span><span style="color:#719e07">const</span> R1 <span style="color:#2aa198">1</span>
</span></span><span style="display:flex;"><span><span style="color:#719e07">const</span> R2 <span style="color:#2aa198">2</span>
</span></span><span style="display:flex;"><span><span style="color:#719e07">const</span> R3 <span style="color:#2aa198">3</span>
</span></span><span style="display:flex;"><span><span style="color:#719e07">const</span> R4 <span style="color:#2aa198">4</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#719e07">const</span> RAM_PNTR <span style="color:#2aa198">5</span>
</span></span><span style="display:flex;"><span><span style="color:#719e07">const</span> PROGRAM_CNTR <span style="color:#2aa198">6</span>
</span></span><span style="display:flex;"><span><span style="color:#719e07">const</span> I_O <span style="color:#2aa198">7</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#719e07">const</span> _ <span style="color:#2aa198">0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#719e07">const</span> array_size <span style="color:#2aa198">15</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#586e75"># Init Registers to 0</span>
</span></span><span style="display:flex;"><span>add<span style="color:#719e07">|</span><span style="color:#2aa198">64</span><span style="color:#719e07">|</span><span style="color:#2aa198">128</span> <span style="color:#2aa198">0</span> <span style="color:#2aa198">0</span> R0
</span></span><span style="display:flex;"><span>add<span style="color:#719e07">|</span><span style="color:#2aa198">64</span><span style="color:#719e07">|</span><span style="color:#2aa198">128</span> <span style="color:#2aa198">0</span> <span style="color:#2aa198">0</span> R1
</span></span><span style="display:flex;"><span>add<span style="color:#719e07">|</span><span style="color:#2aa198">64</span><span style="color:#719e07">|</span><span style="color:#2aa198">128</span> <span style="color:#2aa198">0</span> <span style="color:#2aa198">0</span> R2
</span></span><span style="display:flex;"><span>add<span style="color:#719e07">|</span><span style="color:#2aa198">64</span><span style="color:#719e07">|</span><span style="color:#2aa198">128</span> <span style="color:#2aa198">0</span> <span style="color:#2aa198">0</span> R3
</span></span><span style="display:flex;"><span>add<span style="color:#719e07">|</span><span style="color:#2aa198">64</span><span style="color:#719e07">|</span><span style="color:#2aa198">128</span> <span style="color:#2aa198">0</span> <span style="color:#2aa198">0</span> R4
</span></span><span style="display:flex;"><span>add<span style="color:#719e07">|</span><span style="color:#2aa198">64</span><span style="color:#719e07">|</span><span style="color:#2aa198">128</span> <span style="color:#2aa198">0</span> <span style="color:#2aa198">0</span> RAM_PNTR
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#586e75"># Load in memory</span>
</span></span><span style="display:flex;"><span>label <span style="color:#b58900">load</span>
</span></span><span style="display:flex;"><span>push I_O _ _
</span></span><span style="display:flex;"><span>add<span style="color:#719e07">|</span><span style="color:#2aa198">64</span> RAM_PNTR <span style="color:#2aa198">1</span> RAM_PNTR
</span></span><span style="display:flex;"><span>cond_le<span style="color:#719e07">|</span><span style="color:#2aa198">64</span> RAM_PNTR array_size <span style="color:#b58900">load</span>
</span></span><span style="display:flex;"><span>add<span style="color:#719e07">|</span><span style="color:#2aa198">64</span><span style="color:#719e07">|</span><span style="color:#2aa198">128</span> _ _ RAM_PNTR <span style="color:#586e75"># set to 0</span>
</span></span><span style="display:flex;"><span>label copy_mem
</span></span><span style="display:flex;"><span>pop _ _ R0
</span></span><span style="display:flex;"><span>ram_input R0 _ _
</span></span><span style="display:flex;"><span>add<span style="color:#719e07">|</span><span style="color:#2aa198">64</span> RAM_PNTR <span style="color:#2aa198">1</span> RAM_PNTR
</span></span><span style="display:flex;"><span>cond_le<span style="color:#719e07">|</span><span style="color:#2aa198">64</span> RAM_PNTR array_size copy_mem
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#586e75"># Init Registers to 0</span>
</span></span><span style="display:flex;"><span>add<span style="color:#719e07">|</span><span style="color:#2aa198">64</span><span style="color:#719e07">|</span><span style="color:#2aa198">128</span> <span style="color:#2aa198">0</span> <span style="color:#2aa198">0</span> R0
</span></span><span style="display:flex;"><span>add<span style="color:#719e07">|</span><span style="color:#2aa198">64</span><span style="color:#719e07">|</span><span style="color:#2aa198">128</span> <span style="color:#2aa198">0</span> <span style="color:#2aa198">0</span> RAM_PNTR
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#719e07">const</span> I R0
</span></span><span style="display:flex;"><span><span style="color:#719e07">const</span> MAX_I array_size
</span></span><span style="display:flex;"><span><span style="color:#719e07">const</span> J R1
</span></span><span style="display:flex;"><span><span style="color:#719e07">const</span> MAX_J R2
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>label main_loop
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>sub<span style="color:#719e07">|</span><span style="color:#2aa198">128</span> MAX_I I MAX_J
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>label inner_loop
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#586e75"># Compare and swap</span>
</span></span><span style="display:flex;"><span><span style="color:#586e75"># RAM_PNTR &lt;- J</span>
</span></span><span style="display:flex;"><span>add J <span style="color:#2aa198">0</span> RAM_PNTR
</span></span><span style="display:flex;"><span><span style="color:#586e75"># R3 &lt;- RAM</span>
</span></span><span style="display:flex;"><span>ram_output  _ _ R3
</span></span><span style="display:flex;"><span><span style="color:#586e75"># RAM_PNTR &lt;- J+1</span>
</span></span><span style="display:flex;"><span>add<span style="color:#719e07">|</span><span style="color:#2aa198">64</span> RAM_PNTR <span style="color:#2aa198">1</span> RAM_PNTR
</span></span><span style="display:flex;"><span><span style="color:#586e75"># R4 &lt;- RAM</span>
</span></span><span style="display:flex;"><span>ram_output  _ _ R4
</span></span><span style="display:flex;"><span><span style="color:#586e75"># if R3 &gt; R4, Swap R3-R4</span>
</span></span><span style="display:flex;"><span>cond_le R3 R4 no_swap
</span></span><span style="display:flex;"><span><span style="color:#586e75">#  Push R3 to RAM_PNTR[J+1]</span>
</span></span><span style="display:flex;"><span>ram_input R3 _ _
</span></span><span style="display:flex;"><span><span style="color:#586e75">#  Push R4 to RAM_PNTR[J]</span>
</span></span><span style="display:flex;"><span>sub<span style="color:#719e07">|</span><span style="color:#2aa198">64</span> RAM_PNTR <span style="color:#2aa198">1</span> RAM_PNTR
</span></span><span style="display:flex;"><span>ram_input R4 _ _
</span></span><span style="display:flex;"><span>label no_swap
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#586e75"># end inner_loop</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>add<span style="color:#719e07">|</span><span style="color:#2aa198">64</span> J <span style="color:#2aa198">1</span> J
</span></span><span style="display:flex;"><span>cond_lt J MAX_J inner_loop
</span></span><span style="display:flex;"><span>add<span style="color:#719e07">|</span><span style="color:#2aa198">64</span><span style="color:#719e07">|</span><span style="color:#2aa198">128</span> <span style="color:#2aa198">0</span> <span style="color:#2aa198">0</span> J
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#586e75"># end main_loop</span>
</span></span><span style="display:flex;"><span>add<span style="color:#719e07">|</span><span style="color:#2aa198">64</span> I <span style="color:#2aa198">1</span> I
</span></span><span style="display:flex;"><span>cond_lt<span style="color:#719e07">|</span><span style="color:#2aa198">64</span> I MAX_I main_loop
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#586e75"># Unload</span>
</span></span><span style="display:flex;"><span>add<span style="color:#719e07">|</span><span style="color:#2aa198">64</span><span style="color:#719e07">|</span><span style="color:#2aa198">128</span> <span style="color:#2aa198">0</span> <span style="color:#2aa198">0</span> RAM_PNTR
</span></span><span style="display:flex;"><span>label unload
</span></span><span style="display:flex;"><span>add<span style="color:#719e07">|</span><span style="color:#2aa198">64</span> RAM_PNTR <span style="color:#2aa198">1</span> RAM_PNTR
</span></span><span style="display:flex;"><span>ram_output _ _ I_O
</span></span><span style="display:flex;"><span>cond_le<span style="color:#719e07">|</span><span style="color:#2aa198">64</span> RAM_PNTR array_size unload
</span></span></code></pre></div>
		</section>

		<div class="post-tags">
			
			
			<nav class="nav tags">
				<ul class="tags">
					
					<li><a href="/tags/gaming">gaming</a></li>
					
				</ul>
			</nav>
			
			
		</div>
		</article>
</main>
<footer>
  <div style="display:flex"><a class="soc" href="https://github.com/hcartiaux" rel="me" title="GitHub"><i data-feather="github"></i></a>
    <a class="border"></a><a class="soc" href="https://www.linkedin.com/in/hyacinthecartiaux/" rel="me" title="Linkedin"><i data-feather="linkedin"></i></a>
    <a class="border"></a></div>
  <div class="footer-info">
    2024  CC BY-SA 4.0 |  <a
      href="https://github.com/hcartiaux/hugo-theme-archie-solarized">Archie Solarized Theme</a> | Built with <a href="https://gohugo.io">Hugo</a>
  </div>
</footer>


  


<script>
  feather.replace()
</script></div>
    </body>
</html>
